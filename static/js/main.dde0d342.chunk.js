(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(82)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),s=(a(44),a(45),a(6)),i=a(7),l=a(10),u=a(8),m=a(9),p=(a(46),a(2)),d=(a(47),a(48),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=a.props.suggestions,n=e.currentTarget.value,c=t.filter(function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1});a.setState({activeSuggestion:0,filteredSuggestions:c,showSuggestions:!0,userInput:e.currentTarget.value})},a.onClick=function(e){a.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})},a.onKeyDown=function(e){var t=a.state,n=t.activeSuggestion,c=t.filteredSuggestions;if(13===e.keyCode)a.setState({activeSuggestion:0,showSuggestions:!1,userInput:c[n]});else if(38===e.keyCode){if(0===n)return;a.setState({activeSuggestion:n-1})}else if(40===e.keyCode){if(n-1===c.length)return;a.setState({activeSuggestion:n+1})}},a.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,r=this.onKeyDown,o=this.state,s=o.activeSuggestion,i=o.filteredSuggestions,l=o.showSuggestions,u=o.userInput;return l&&u&&(e=i.length?c.a.createElement("ul",{className:"suggestions"},i.map(function(e,t){var n;return t===s&&(n="suggestion-active"),c.a.createElement("li",{className:n,key:e,onClick:a},e)})):c.a.createElement("div",{className:"no-suggestions"},c.a.createElement("em",null,"No suggestions, you're on your own!"))),c.a.createElement(n.Fragment,null,c.a.createElement("input",{type:"text",className:"form-control search-field",onChange:t,onKeyDown:r,value:u}),e)}}]),t}(n.Component));d.defaultProps={suggestions:[]};var f=d,g=a(14),h=a(15),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).getSum=function(e,t){return e+Math.round(a.props.cart[t].count)},a.getCartItemsLength=function(){var e=Object(p.a)({},a.props.cart);return Object.keys(e).reduce(a.getSum,0)},a.navigateToCart=function(){a.props.history.push("/cart")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("header",{className:"app-header"},"Grocery App",c.a.createElement(f,{suggestions:["Saffola Oil","Surf Excel","Dairy Milk","Lays Chips","Good Day Buiscuit","Coca Cola"]}),c.a.createElement("div",{className:"cart-indicator"},c.a.createElement("i",{className:"fas fa-shopping-cart cart-icon",onClick:this.navigateToCart}),c.a.createElement("span",{className:"cart-length-ind"},this.getCartItemsLength())))}}]),t}(n.Component),v=Object(h.f)(Object(g.b)(function(e){return{cart:e.cart}})(b)),E=(a(58),a(17)),y=(a(59),a(37)),O=a.n(y).a.create({baseURL:""}),j=(a(79),function(e){var t=e.data;return c.a.createElement("div",{className:"item col-sm-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement("span",{className:"off-indicator"},"".concat(t.discountPercent,"% OFF"))),c.a.createElement("div",{className:"col-12"},c.a.createElement("img",{src:t.img,className:"item-pic",alt:t.productName})),c.a.createElement("div",{className:"col-12"},t.productName),c.a.createElement("div",{className:"col-12 quantity"},t.quantity),c.a.createElement("div",{className:"price-block row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("span",null,"\u20b9",t.discountPrice),c.a.createElement("s",null,"\u20b9",t.mrp)),c.a.createElement("div",{className:"col-8"},c.a.createElement("button",{className:"btn btn-atc",onClick:function(){return e.addItemToCart(t)}},"Add to Cart"))))}),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).fetchTasks=function(){O.get("api.json").then(function(e){a.setState({items:e.data})}).catch(function(e){console.log(e)})},a.getStockItems=function(){return a.state.items?a.state.items.map(function(e,t){return c.a.createElement(j,{key:e.productId,data:e,addItemToCart:a.addItemToCart})}):"Loading..."},a.addItemToCart=function(e){a.props.onAddToCart(e)},a.state={items:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){return c.a.createElement("div",{className:"app-body container-fluid"},c.a.createElement("div",{className:"row"},this.getStockItems()))}}]),t}(n.Component),C=Object(g.b)(null,function(e){return{onAddToCart:function(t){return e({type:"ADD_TO_CART",payload:{item:t}})}}})(N),k=(a(80),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).isCartEmpty=function(){var e=Object(p.a)({},a.props.cart);return 0===Object.keys(e).length},a.getCartItemsList=function(){var e=Object(p.a)({},a.props.cart);return Object.keys(e).map(function(t,n){return c.a.createElement("div",{className:"cart-item row",key:t},c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("img",{className:"cart-item-img",src:e[t].img,alt:e[t].productName})),c.a.createElement("div",{className:"col-sm-8 cart-item-details"},c.a.createElement("span",{className:"cart-percent-ind"},e[t].discountPercent,"% OFF"),c.a.createElement("div",null,e[t].productName),c.a.createElement("div",null,e[t].quantity),c.a.createElement("div",{className:"cart-item-calculation row"},c.a.createElement("span",{onClick:function(){return a.props.decrementQty(t)},className:"cart-item-plusminus"},"\xa0-\xa0"),c.a.createElement("span",null,e[t].count),c.a.createElement("span",{onClick:function(){return a.props.incrementQty(t)},className:"cart-item-plusminus"},"\xa0+\xa0"),c.a.createElement("span",null,"X"),c.a.createElement("span",null,"\u20b9",e[t].discountPrice),c.a.createElement("s",null,"\u20b9",e[t].mrp),c.a.createElement("span",{className:"cart-item-total"},"\u20b9",e[t].count*e[t].discountPrice))))})},a.getSum=function(e,t){return e+Math.round(a.props.cart[t].count)},a.getCartItemsLength=function(){var e=Object(p.a)({},a.props.cart);return Object.keys(e).reduce(a.getSum,0)},a.getSumOfItemsPrice=function(e,t){return e+Math.round(a.props.cart[t].count*a.props.cart[t].discountPrice)},a.getCartTotal=function(){var e=Object(p.a)({},a.props.cart);return Object.keys(e).reduce(a.getSumOfItemsPrice,0)},a.applyDiscount=function(){var e=Math.floor(8*Math.random())+8;a.setState({discount:e,cartDiscount:(a.getCartTotal()+29)*((100-e)/100)})},a.state={discount:0,cartDiscount:0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"cart"},this.isCartEmpty()?c.a.createElement("h4",{className:"cart-empty"},"Your cart is Empty!"):c.a.createElement("div",null,c.a.createElement("h1",null,"My cart ",c.a.createElement("span",null,"(".concat(this.getCartItemsLength()," items)"))),c.a.createElement("div",{className:"cart-total row"},c.a.createElement("div",{className:"col-sm-6"},"Sub Total"),c.a.createElement("div",{className:"col-sm-6"},"\u20b9",this.getCartTotal())),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-6"},"Delivery Charges"),c.a.createElement("div",{className:"col-sm-6"},"\u20b929")),this.getCartItemsList(),0!==this.state.discount?c.a.createElement("h3",null,"Congratulations, you just got ",this.state.discount,"% OFF, just pay ",Math.ceil(this.state.cartDiscount),"!"):c.a.createElement(n.Fragment,null,c.a.createElement("h5",null,"You think you're lucky, lets see by clicking this button"),c.a.createElement("button",{className:"btn btn-success",onClick:this.applyDiscount},"Check Discount"))))}}]),t}(n.Component)),S=Object(g.b)(function(e){return{cart:e.cart}},function(e){return{decrementQty:function(t){return e({type:"DECREMENT_QUANTITY",payload:{productId:t}})},incrementQty:function(t){return e({type:"INCREMENT_QUANTITY",payload:{productId:t}})}}})(k),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app-body container-fluid"},c.a.createElement("div",{className:"app-links"},c.a.createElement(E.b,{className:"app-nav-link",to:"/cart"},"Cart"),c.a.createElement(E.b,{className:"app-nav-link",to:"/"},"Back to Storefront")),c.a.createElement(h.d,null,c.a.createElement(h.b,{exact:!0,path:"/",render:function(){return c.a.createElement(h.a,{to:"/react-grocery-app"})}}),c.a.createElement(h.b,{path:"/react-grocery-app",component:C}),c.a.createElement(h.b,{path:"/cart",component:S}),c.a.createElement(h.b,{path:"*",render:function(){return c.a.createElement(h.a,{to:"/react-grocery-app"})}})))}}]),t}(n.Component),T=(a(81),function(){return c.a.createElement("footer",{className:"app-footer"},"Designed and Coded by Vishal Gulati (",c.a.createElement("a",{id:"footer-link",target:"_blank",rel:"noopener noreferrer",href:"https://www.vishalgulati.com"},"www.vishalgulati.com"),")")}),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(v,null),c.a.createElement(w,null),c.a.createElement(T,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(23),A=a(38),M=a(16);function L(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var P={cart:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload.item,n=a.productId;return Object(p.a)({},e,{cart:e.cart[n]?Object(p.a)({},e.cart,Object(M.a)({},n,Object(p.a)({},a,{count:++e.cart[n].count}))):Object(p.a)({},e.cart,Object(M.a)({},n,Object(p.a)({},a,{count:1})))});case"INCREMENT_QUANTITY":var c=t.payload.productId;return Object(p.a)({},e,{cart:Object(p.a)({},e.cart,Object(M.a)({},c,Object(p.a)({},e.cart[c],{count:++e.cart[c].count})))});case"DECREMENT_QUANTITY":var r=t.payload.productId;if(1===e.cart[r].count){var o=e.cart,s=(o[r],Object(A.a)(o,[r].map(L)));return Object(p.a)({},e,{cart:Object(p.a)({},s)})}return Object(p.a)({},e,{cart:Object(p.a)({},e.cart,Object(M.a)({},r,Object(p.a)({},e.cart[r],{count:--e.cart[r].count})))});default:return e}},F=Object(D.b)(_);o.a.render(c.a.createElement(g.a,{store:F},c.a.createElement(E.a,null,c.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.dde0d342.chunk.js.map